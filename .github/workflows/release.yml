name: Release

on:
    workflow_dispatch:
    schedule:
        # Runs every Monday at 8 AM EST (1 PM UTC)
        # Note: GitHub Actions uses UTC. Adjust for DST if needed (EDT = UTC-4)
        - cron: '0 13 * * 1'

jobs:
    release:
        name: Semantic Release
        runs-on: ubuntu-latest
        permissions:
            contents: write
            issues: write
            pull-requests: write
        outputs:
            released: ${{ steps.release.outputs.released }}
            version: ${{ steps.release.outputs.version }}
            tag: ${{ steps.release.outputs.tag }}
        steps:
            - name: Checkout code
              uses: actions/checkout@v4
              with:
                  fetch-depth: 0
                  token: ${{ secrets.GITHUB_TOKEN }}

            - name: Run Semantic Release
              id: release
              uses: python-semantic-release/python-semantic-release@v10.3.1
              with:
                  github_token: ${{ secrets.GITHUB_TOKEN }}
